<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>[Java8의 변경사항] 2. 스트림(Stream) API - altera520 Blog</title><meta name=Description content><meta property="og:title" content="[Java8의 변경사항] 2. 스트림(Stream) API"><meta property="og:description" content="스트림 특징 스트림 API는 컬렉션과 같이 연속된 데이터를 처리하는 용도로 사용한다. 저장하는 용도로 사용하는 것이 아니다.
스트림의 특징은 다음과 같다.
  for과 같은 외부반복자와 필터링을 위한 if등을 사용하지 않아 직관적이며 가독성이 좋아진다.
//자바8 이전의 코드 List<String> list = Arrays.asList(&#34;a&#34;, &#34;b&#34;, &#34;c&#34;); Iterator<String> iterator = list.iterator(); while(iterator.hasNext()) { String item = iterator."><meta property="og:type" content="article"><meta property="og:url" content="https://altera520.github.io/posts/2021-02-18-java8-features-2nd/"><meta property="article:published_time" content="2021-02-18T02:39:19+09:00"><meta property="article:modified_time" content="2021-02-18T02:39:19+09:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="[Java8의 변경사항] 2. 스트림(Stream) API"><meta name=twitter:description content="스트림 특징 스트림 API는 컬렉션과 같이 연속된 데이터를 처리하는 용도로 사용한다. 저장하는 용도로 사용하는 것이 아니다.
스트림의 특징은 다음과 같다.
  for과 같은 외부반복자와 필터링을 위한 if등을 사용하지 않아 직관적이며 가독성이 좋아진다.
//자바8 이전의 코드 List<String> list = Arrays.asList(&#34;a&#34;, &#34;b&#34;, &#34;c&#34;); Iterator<String> iterator = list.iterator(); while(iterator.hasNext()) { String item = iterator."><meta name=application-name content="altera520 Blog"><meta name=apple-mobile-web-app-title content="altera520 Blog"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://altera520.github.io/posts/2021-02-18-java8-features-2nd/><link rel=prev href=https://altera520.github.io/posts/2021-02-17-java8-features-1st/><link rel=next href=https://altera520.github.io/posts/2021-02-18-java8-features-3rd/><link rel=stylesheet href=/lib/normalize/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=/lib/fontawesome-free/all.min.css><link rel=stylesheet href=/lib/animate/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"[Java8의 변경사항] 2. 스트림(Stream) API","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/altera520.github.io\/posts\/2021-02-18-java8-features-2nd\/"},"genre":"posts","keywords":"Java, Stream","wordcount":855,"url":"https:\/\/altera520.github.io\/posts\/2021-02-18-java8-features-2nd\/","datePublished":"2021-02-18T02:39:19+09:00","dateModified":"2021-02-18T02:39:19+09:00","publisher":{"@type":"Organization","name":"altera520"},"author":{"@type":"Person","name":"altera520"},"description":""}</script></head><body header-desktop=auto header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('light'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'light'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=menu><div class=menu-inner><a class=menu-item href=/>Blog </a><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories</a></div></div><div class=menu><div class=menu-inner><span class="menu-item search" id=search-desktop><input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin"></i></span></span></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="altera520 Blog">altera520 Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw"></i></a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw"></i></a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin"></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/>Blog</a><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><div class=intro-header><div class="page single into-header-title"><div class=post-meta><span class=post-category><a href=/categories/programming/ id=custom-category>Programming</a></span></div><h1 class="single-title animated flipInX">[Java8의 변경사항] 2. 스트림(Stream) API</h1><div class=post-meta style=margin-bottom:4rem><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2021-02-18>2021-02-18</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;855 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div></div></div><article class="page single"><div class="details toc" id=toc-static kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right"></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><a href=#스트림-특징>스트림 특징</a></li><li><a href=#스트림-사용법>스트림 사용법</a><ul><li><a href=#스트림-생성>스트림 생성</a></li><li><a href=#중개-연산>중개 연산</a></li><li><a href=#최종-연산>최종 연산</a></li></ul></li><li><a href=#footnote>footnote</a></li><li><a href=#related-posts>Related Posts</a></li><li><a href=#references>References</a></li></ul></nav></div></div><div class=content id=content><h2 id=스트림-특징>스트림 특징</h2><p>스트림 API는 <strong>컬렉션과 같이 연속된 데이터를 처리하는 용도로 사용</strong>한다. 저장하는 용도로 사용하는 것이 아니다.</p><p>스트림의 특징은 다음과 같다.</p><ol><li><p>for과 같은 외부반복자와 필터링을 위한 if등을 사용하지 않아 직관적이며 가독성이 좋아진다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=c1>//자바8  이전의 코드
</span><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>list</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>,</span> <span class=s>&#34;b&#34;</span><span class=o>,</span> <span class=s>&#34;c&#34;</span><span class=o>);</span>
<span class=n>Iterator</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>iterator</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>iterator</span><span class=o>();</span>
<span class=k>while</span><span class=o>(</span><span class=n>iterator</span><span class=o>.</span><span class=na>hasNext</span><span class=o>())</span> <span class=o>{</span>
    <span class=n>String</span> <span class=n>item</span> <span class=o>=</span> <span class=n>iterator</span><span class=o>.</span><span class=na>next</span><span class=o>();</span>
    <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>item</span><span class=o>);</span>
<span class=o>}</span>

<span class=c1>//자바 8 이후 코드
</span><span class=c1></span><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>list</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>,</span> <span class=s>&#34;b&#34;</span><span class=o>,</span> <span class=s>&#34;c&#34;</span><span class=o>);</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>stream</span><span class=o>();</span>
<span class=n>stream</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>item</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>item</span><span class=o>));</span>
</code></pre></div></li><li><p>최종 연산을 적용하면 스트림이 닫히고, 닫힌 스트림은 재사용이 불가능하다.</p></li><li><p>병렬(Parallel) 스트림을 사용가능하다. 병렬 스트림은 여러 스레드가 나누어 작업한다.<sup><a href=#footnote_1 rel>[1]</a></sup><sup><a href=#footnote_2 rel>[2]</a></sup></p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>list</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>,</span> <span class=s>&#34;b&#34;</span><span class=o>,</span> <span class=s>&#34;c&#34;</span><span class=o>,</span> <span class=s>&#34;d&#34;</span><span class=o>,</span> <span class=s>&#34;e&#34;</span><span class=o>);</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>parallelStream</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>parallelStream</span><span class=o>();</span>

<span class=n>parallelStream</span><span class=o>.</span><span class=na>forEach</span><span class=o>(</span><span class=n>item</span> <span class=o>-&gt;</span> <span class=n>System</span><span class=o>.</span><span class=na>out</span><span class=o>.</span><span class=na>println</span><span class=o>(</span><span class=n>item</span><span class=o>));</span>
</code></pre></div></li><li><p>중개 연산은 미리하지 않으며 터미널 연산이 적용될 때 연산을 전체적으로 처리한다. (지연 연산)</p></li></ol><br><p>정리하자면 스트림은 Iterator와 비슷하나, 스트림을 사용하면 코드를 간결하게 작성할 수 있을뿐더러 내부 반복자를 사용하므로 병렬처리가 쉽다는 장점이 존재한다.</p><br><h2 id=스트림-사용법>스트림 사용법</h2><p>스트림의 사용은 3단계로 나뉜다. (스트림 생성 → 중개 연산 → 최종 연산)</p><h3 id=스트림-생성>스트림 생성</h3><div class=subject4><ol><li>배열 스트림</li></ol></div><p><code>Arrays.stream</code> 메서드를 사용하여 생성한다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>String</span><span class=o>[]</span> <span class=n>arr</span> <span class=o>=</span> <span class=k>new</span> <span class=n>String</span><span class=o>[]{</span><span class=s>&#34;1&#34;</span><span class=o>,</span> <span class=s>&#34;2&#34;</span><span class=o>,</span> <span class=s>&#34;3&#34;</span><span class=o>}</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>stream</span><span class=o>(</span><span class=n>arr</span><span class=o>);</span>
</code></pre></div><div class=subject4><ol start=2><li>컬렉션 스트림</li></ol></div><p>컬렉션의 경우 인터페이스에 추가된 <code>stream</code> 메서드를 사용하여 생성한다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>List</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>list</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>asList</span><span class=o>(</span><span class=s>&#34;1&#34;</span><span class=o>,</span> <span class=s>&#34;2&#34;</span><span class=o>,</span> <span class=s>&#34;3&#34;</span><span class=o>);</span>
<span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>stream</span><span class=o>();</span>
</code></pre></div><div class=subject4><ol start=3><li>비어있는 스트림</li></ol></div><p><code>Stream</code>의 <code>empty</code> 메서드를 사용하여 빈 스트림을 생성할 수 있다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> <span class=n>Stream</span><span class=o>.&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=n>empty</span><span class=o>();</span>
</code></pre></div><div class=subject4><ol start=4><li>builder 메서드 사용</li></ol></div><p><code>Stream</code>의 <code>builder</code> 메서드를 사용하여 스트림을 직접적으로 생성할 수 있다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> 
    <span class=n>Stream</span><span class=o>.&lt;</span><span class=n>String</span><span class=o>&gt;</span><span class=n>builder</span><span class=o>()</span>
        <span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s>&#34;a&#34;</span><span class=o>)</span>
        <span class=o>.</span><span class=na>add</span><span class=o>(</span><span class=s>&#34;b&#34;</span><span class=o>)</span>
        <span class=o>.</span><span class=na>build</span><span class=o>();</span>
</code></pre></div><div class=subject4><ol start=5><li>generate 메서드 사용</li></ol></div><p><code>Stream</code>의 <code>generate</code> 메서드를 사용하여 <code>Supplier</code> 타입의 인자로 스트림을 생성 가능하다.<br>이 경우 생성되는 스트림의 크기가 정해져 있지 않기에 <code>limit</code>로 스트림 사이즈를 지정해야한다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>stream</span> <span class=o>=</span> 
    <span class=n>Steam</span><span class=o>.</span><span class=na>generate</span><span class=o>(()</span> <span class=o>-&gt;</span> <span class=s>&#34;st&#34;</span><span class=o>)</span>
        <span class=o>.</span><span class=na>limit</span><span class=o>(</span><span class=n>10</span><span class=o>);</span>
</code></pre></div><div class=subject4><ol start=6><li>기본 타입 스트림</li></ol></div><p><code>Stream&lt;Integer></code>와 같이 제네릭을 사용하여 스트림을 생성할 수 있으나 기본타입의 스트림을 생성하는 경우 오토박싱이 발생한다. 오토박싱을 발생안하게 하려면 제네릭 타입의 스트림 사용 대신 <code>IntStream</code>, <code>LongStream</code>, <code>DoubleStream</code>을 사용하여 기본형 스트림을 생성 가능하다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>IntStream</span> <span class=n>intStream</span> <span class=o>=</span> <span class=n>IntStream</span><span class=o>.</span><span class=na>range</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=n>5</span><span class=o>);</span> <span class=c1>// [1, 2, 3, 4]
</span><span class=c1></span><span class=n>LongStream</span> <span class=n>longStream</span> <span class=o>=</span> <span class=n>LongStream</span><span class=o>.</span><span class=na>rangeClosed</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=n>5</span><span class=o>);</span> <span class=c1>// [1, 2, 3, 4, 5]
</span></code></pre></div><ul><li><code>range</code>: 두번째 인자 값 이전까지 스트림을 생성한다.</li><li><code>rangeClosed</code>: 두번째 인자 값까지 스트림을 생성한다.</li></ul><div class=subject4><ol start=7><li>문자열 스트림</li></ol></div><p>문자열의 <code>chars</code> 메서드를 통해 <code>IntStream</code>을 생성할 수 있다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>IntStream</span> <span class=n>intStream</span> <span class=o>=</span> <span class=s>&#34;abcdefg&#34;</span><span class=o>.</span><span class=na>chars</span><span class=o>();</span>
</code></pre></div><div class=subject4><ol start=8><li>파일 스트림</li></ol></div><p><code>Files</code> 클래스의 <code>lines</code> 메서드를 통해 파일의 각 라인을 문자열 타입의 스트림으로 생성할 수 있다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>fileStream</span> <span class=o>=</span> 
    <span class=n>Files</span><span class=o>.</span><span class=na>lines</span><span class=o>(</span><span class=n>Paths</span><span class=o>.</span><span class=na>get</span><span class=o>(</span><span class=s>&#34;sample.txt&#34;</span><span class=o>),</span> 
              <span class=n>Charset</span><span class=o>.</span><span class=na>forName</span><span class=o>(</span><span class=s>&#34;UTF-8&#34;</span><span class=o>));</span>
</code></pre></div><div class=subject4><ol start=9><li>병렬 스트림</li></ol></div><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>streamOfList</span> <span class=o>=</span> <span class=n>list</span><span class=o>.</span><span class=na>parallelStream</span><span class=o>();</span> <span class=c1>// 병렬 스트림 생성
</span><span class=c1></span><span class=n>Stream</span><span class=o>&lt;</span><span class=n>String</span><span class=o>&gt;</span> <span class=n>streamOfArray</span> <span class=o>=</span> <span class=n>Arrays</span><span class=o>.</span><span class=na>stream</span><span class=o>(</span><span class=n>arr</span><span class=o>).</span><span class=na>parallel</span><span class=o>();</span> <span class=c1>// 배열을 통한 병렬 스트림
</span><span class=c1></span>
<span class=n>streamOfList</span><span class=o>.</span><span class=na>isParallel</span><span class=o>()</span> <span class=c1>// 병렬 스트림 여부 확인
</span><span class=c1></span><span class=n>streamOfList</span><span class=o>.</span><span class=na>sequential</span><span class=o>();</span> <span class=c1>// 시퀀셜 모드로 돌리기 위해 사용
</span></code></pre></div><div class=subject4><ol start=10><li>스트림 연결</li></ol></div><p><code>Stream</code>의 <code>concat</code> 메서드를 사용하여 스트림을 연결하여 새로운 스트림을 생성할 수 있다.</p><div class=highlight><pre class=chroma><code class=language-java data-lang=java><span class=n>IntStream</span> <span class=n>stream1</span> <span class=o>=</span> <span class=n>IntStream</span><span class=o>.</span><span class=na>range</span><span class=o>(</span><span class=n>1</span><span class=o>,</span> <span class=n>5</span><span class=o>);</span>
<span class=n>IntStream</span> <span class=n>stream2</span> <span class=o>=</span> <span class=n>IntStream</span><span class=o>.</span><span class=na>range</span><span class=o>(</span><span class=n>5</span><span class=o>,</span> <span class=n>10</span><span class=o>);</span>
<span class=n>IntStream</span> <span class=n>concatedStream</span> <span class=o>=</span> <span class=n>IntStream</span><span class=o>.</span><span class=na>concat</span><span class=o>(</span><span class=n>stream1</span><span class=o>,</span> <span class=n>stream2</span><span class=o>);</span>
</code></pre></div><br><h3 id=중개-연산>중개 연산</h3><p>중개 연산은 <code>Stream</code>객체를 리턴하기에 다양한 중개 메서드를 chaining하여 작성이 가능하다.<br>추가로, <strong>중개 연산은 최종 연산이 적용되기 전까지 지연된다.</strong><br>최종 연산이 적용될 때 중개 연산들을 일괄처리함으로써 미리 계산하면서 두 번 순회하는 불필요한 동작을 하지 않고 최종적으로 한번만 순회하며 데이터를 처리할 수 있다는 장점을 가진다.</p><details open><summary>중개 연산 종류</summary><table style=width:100%px><thead><tr><th style=text-align:left>name</th><th style=text-align:left>description</th></tr></thead><tbody><tr><td style=text-align:left>filter</td><td style=text-align:left>스트림 내 요소들을 하나씩 조회하여 필터링하는 작업이다.<br>인자로 <code>boolean</code> 타입을 리턴하는 식이 들어가야 한다.</td></tr><tr><td style=text-align:left>distinct</td><td style=text-align:left>요소 중복 제거 작업을 수행한다.</td></tr><tr><td style=text-align:left>map</td><td style=text-align:left>스트림 내 요소들을 하나씩 특정 값으로 변환한다.</td></tr><tr><td style=text-align:left>flatMap</td><td style=text-align:left>중첩 구조를 한 단계 제거하고 단일 컬렉션으로 만들어주는 역할을 수행한다.(flattening)<br>인자로 <code>Stream</code> 타입을 리턴하는 식을 넣어야한다.</td></tr><tr><td style=text-align:left>sorted</td><td style=text-align:left>일반적인 정렬과 마찬가지로 <code>Comparator</code>을 인자로 사용한다. 만약 인자 없이 호출할 경우 기본적으로 오름차순으로 정렬한다.</td></tr><tr><td style=text-align:left>peek</td><td style=text-align:left>단순히 스트림 내 요소들을 확인하기 위해 사용한다. 즉, 특정 결과를 반환하지 않는다.</td></tr></tbody></table></details><br><h3 id=최종-연산>최종 연산</h3><p>스트림을 끝내는 터미널 단계이며, 가공한 스트림에 대한 결과를 반환한다.<br><strong>최종 연산이 수행된 이후에는 스트림이 닫히게 되어 더 이상 사용할 수 없다.</strong></p><details open><summary>최종 연산 종류</summary><table style=width:100%px><thead><tr><th style=text-align:left>name</th><th style=text-align:left>description</th></tr></thead><tbody><tr><td style=text-align:left>count</td><td style=text-align:left>요소의 갯수를 계산한다. 스트림이 비어있는 경우 0이 반환된다.</td></tr><tr><td style=text-align:left>sum</td><td style=text-align:left>요소의 합을 계산한다. 스트림이 비어있는 경우 0이 반환된다.</td></tr><tr><td style=text-align:left>min</td><td style=text-align:left>요소 중 최솟값을 표현한다.<br>스트림이 비어있는 경우는 표현하지 못하므로 <code>Optional</code> 타입으로 반환된다.</td></tr><tr><td style=text-align:left>max</td><td style=text-align:left>요소 중 최대값을 표현한다.<br>스트림이 비어있는 경우는 표현하지 못하므로 <code>Optional</code> 타입으로 반환된다.</td></tr><tr><td style=text-align:left>average</td><td style=text-align:left>요소들의 평균값을 표현한다.<br>스트림이 비어있는 경우는 표현하지 못하므로 <code>Optional</code> 타입으로 반환된다.</td></tr><tr><td style=text-align:left>ifPresent</td><td style=text-align:left>스트림에서 <code>Optional</code>을 처리하기 위해 사용한다. min, max, average와 연계된다.</td></tr><tr><td style=text-align:left>reduce</td><td style=text-align:left>스트림 처리결과를 나타내기 위해 사용한다. reduce 메서드는 세 종류의 파라미터를 받을 수 있다.<ul><li><code>accumulator</code>: 스트림의 각 요소가 들어올 때마다 중간 결과를 생성하는 식</li><li><code>identity</code>: 스트림 계산을 위한 초기값. 계산할 값이 없더라도 해당 값은 리턴된다.</li><li><code>combiner</code>: 병렬 스트림에서 나누어 계산한 결과를 하나로 합치는 식</li></ul></td></tr><tr><td style=text-align:left>collect</td><td style=text-align:left><code>Collector</code> 타입의 인자를 받아서 처리한다. 주로 사용되는 작업은 <code>Collectors</code> 클래스에서 제공한다.</td></tr><tr><td style=text-align:left>anyMatch</td><td style=text-align:left>하나라도 조건을 만족하는 요소가 있는지 검사한다. <code>Predicate</code>타입을 인자로 받는다.</td></tr><tr><td style=text-align:left>allMatch</td><td style=text-align:left>모두 조건을 만족하는지 검사한다. <code>Predicate</code>타입을 인자로 받는다.</td></tr><tr><td style=text-align:left>noneMatch</td><td style=text-align:left>모두 조건을 만족하지 않는지 검사한다. <code>Predicate</code>타입을 인자로 받는다.</td></tr><tr><td style=text-align:left>forEach</td><td style=text-align:left>모든 요소를 순회하며 실행한다. peek와 유사하나 최종작업이다.</td></tr></tbody></table></details><br><details open><summary>Collectors에서 제공하는 작업</summary><table style=width:100%px><thead><tr><th style=text-align:left>name</th><th style=text-align:left>description</th></tr></thead><tbody><tr><td style=text-align:left>toList</td><td style=text-align:left>스트림 작업 결과를 리스트로 반환한다.</td></tr><tr><td style=text-align:left>joining</td><td style=text-align:left>스트림에서 작업한 결과를 문자열로 이어 붙인다. joining 메서드는 세 종류의 인자를 받을 수 있다.<ul><li><code>delimiter</code>: 각 요소를 구분시켜주는 구분자</li><li><code>prefix</code>: 문자열 앞에 붙는 접두사</li><li><code>suffix</code>: 문자열 뒤에 붙는 접미사</li><ul></td></tr><tr><td style=text-align:left>averagingInt</td><td style=text-align:left>평균값을 산출해낸다.</td></tr><tr><td style=text-align:left>summingInt</td><td style=text-align:left>합을 산출해낸다.</td></tr><tr><td style=text-align:left>summarizingInt</td><td style=text-align:left>평균값, 합 둘다 산출해낸다. <code>IntSummaryStatistics</code>타입의 객체를 리턴한다.</td></tr><tr><td style=text-align:left>groupingBy</td><td style=text-align:left><code>Function</code> 타입의 인자를 받아 요소들을 그룹핑하는데 사용한다.</td></tr><tr><td style=text-align:left>partitioningBy</td><td style=text-align:left><code>Predicate</code> 타입의 인자를 받아 true, false 기준으로 나눈다.</td></tr><tr><td style=text-align:left>collectingAndThen</td><td style=text-align:left>결과를 collect한 이후 <code>Collector</code>타입을 반환하는 추가 작업을 수행하기 위해 사용한다.</td></tr><tr><td style=text-align:left>of</td><td style=text-align:left>Collectors에서 기본 제공하는 작업 이외의 작업이 필요한 경우 새로운 유형의 작업을 정의하기 위해 사용한다. 사용하는 인자는 reduce 메서드에서 사용하는 인자와 동일하다.</td></tr></tbody></table></details><br><h2 id=footnote>footnote</h2><p><a name=footnote_1>[1]</a> 애플리케이션에서 사용하는 스레드가 많거나 스트림을 위해 사용하는 컬렉션의 요소가 적다면 병렬 스트림을 사용하는데 오버헤드가 더 클 수 있다.<br><a name=footnote_2>[2]</a> 자바에서는 병렬처리를 위해 <a href=http://tutorials.jenkov.com/java-util-concurrent/java-fork-and-join-forkjoinpool.html target=_blank rel="noopener noreffer">ForkJoinPool 프레임워크</a>를 사용한다.</p><br><h2 id=related-posts>Related Posts</h2><br><h2 id=references>References</h2><ul><li><a href=https://futurecreator.github.io/2018/08/26/java-8-streams/ target=_blank rel="noopener noreffer">https://futurecreator.github.io/2018/08/26/java-8-streams/</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2021-02-18</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=https://altera520.github.io/posts/2021-02-18-java8-features-2nd/ data-title="[Java8의 변경사항] 2. 스트림(Stream) API" data-hashtags=Java,Stream><i class="fab fa-twitter fa-fw"></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=https://altera520.github.io/posts/2021-02-18-java8-features-2nd/ data-hashtag=Java><i class="fab fa-facebook-square fa-fw"></i></a><a href=javascript:void(0); title="Share on Linkedin" data-sharer=linkedin data-url=https://altera520.github.io/posts/2021-02-18-java8-features-2nd/><i class="fab fa-linkedin fa-fw"></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=https://altera520.github.io/posts/2021-02-18-java8-features-2nd/ data-title="[Java8의 변경사항] 2. 스트림(Stream) API"><i data-svg-src=/lib/simple-icons/icons/line.min.svg></i></a></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/java/>Java</a>,&nbsp;<a href=/tags/stream/>Stream</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/2021-02-17-java8-features-1st/ class=prev rel=prev title="[Java8의 변경사항] 1. 특징 및 람다 표현식">← </i>[Java8의 변경사항] 1. 특징 및 람다 표현식</a>
<a href=/posts/2021-02-18-java8-features-3rd/ class=next rel=next title="[Java8의 변경사항] 3. 날짜와 시간 계산">[Java8의 변경사항] 3. 날짜와 시간 계산 →</a></div></div><div id=comments><div id=utterances></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://utteranc.es/>Utterances</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.75.1">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>altera520</a></span></div><div class=links><a href=https://github.com/Altera520 title=GitHub target=_blank rel="noopener noreffer me"><i class="fab fa-github-alt fa-fw"></i></a><a href=https://www.instagram.com/gj__an title=Instagram target=_blank rel="noopener noreffer me"><i class="fab fa-instagram fa-fw"></i></a><a href=mailto:sencom1028@gmail.com title=Email rel=me><i class="far fa-envelope fa-fw"></i></a><a href=/index.xml title=RSS target=_blank rel="noopener noreffer me"><i class="fas fa-rss fa-fw"></i></a></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=/lib/lightgallery/lightgallery.min.css><script type=text/javascript src=/lib/smooth-scroll/smooth-scroll.min.js></script><script type=text/javascript src=/lib/autocomplete/autocomplete.min.js></script><script type=text/javascript src=/lib/algoliasearch/algoliasearch-lite.umd.min.js></script><script type=text/javascript src=/lib/lazysizes/lazysizes.min.js></script><script type=text/javascript src=/lib/lightgallery/lightgallery.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-thumbnail.min.js></script><script type=text/javascript src=/lib/lightgallery/lg-zoom.min.js></script><script type=text/javascript src=/lib/clipboard/clipboard.min.js></script><script type=text/javascript src=/lib/sharer/sharer.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":500},"comment":{"utterances":{"darkTheme":"github-dark","issueTerm":"title","label":"comment","lightTheme":"github-light","repo":"Altera520/blog-comment"}},"lightGallery":{"actualSize":false,"exThumbImage":"data-thumbnail","hideBarsDelay":2000,"selector":".lightgallery","speed":400,"thumbContHeight":80,"thumbWidth":80,"thumbnail":true},"search":{"algoliaAppID":"Z6XUTBRBTU","algoliaIndex":"tech_blog","algoliaSearchKey":"93666bf981eb546301c54c0d60833095","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type=text/javascript src=/js/theme.min.js></script><script type=text/javascript>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments);}gtag('js',new Date());gtag('config','G-0HZQPQBVVJ',{'anonymize_ip':true});</script><script type=text/javascript src="https://www.googletagmanager.com/gtag/js?id=G-0HZQPQBVVJ" async></script></body></html>